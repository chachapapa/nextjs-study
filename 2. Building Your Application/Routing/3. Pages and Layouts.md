# Pages and Layouts

ğŸ’¡ê³„ì†í•˜ê¸° ì „ì— [Routing Fundamentals and Defining Routes](https://github.com/chachapapa/nextjs-study/blob/main/2.%20Building%20Your%20Application/Routing/2.%20Defining%20Routes.md) í˜ì´ì§€ë¥¼ ë¨¼ì € í•™ìŠµí•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.

The special files layout.js, page.js, and template.js allow you to create UI for a route. This page will guide you through how and when to use these special files.

> íŠ¹ìˆ˜ íŒŒì¼ `layout.js`, `page.js`, ê·¸ë¦¬ê³  `template.js` ëŠ” ë¼ìš°íŠ¸ì˜ UIë¥¼ ì œì‘í•˜ëŠ”ë°ì— ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í˜ì´ì§€ëŠ” ì´ íŠ¹ìˆ˜ íŒŒì¼ë“¤ì´ ì–¸ì œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ì— ëŒ€í•´ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

## Pages

A page is UI that is unique to a route. You can define a page by default exporting a component from a page.js file.

For example, to create your index page, add the page.js file inside the app directory:

> í˜ì´ì§€ëŠ” ë¼ìš°íŠ¸ ê³ ìœ ì˜ UIì…ë‹ˆë‹¤. í˜ì´ì§€ëŠ” `page.js` íŒŒì¼ì—ì„œ default exportingì„ í†µí•´ ì»´í¬ë„ŒíŠ¸ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´, ì¸ë±ìŠ¤ í˜ì´ì§€ë¥¼ ë§Œë“¤ë ¤ë©´ `app` ë””ë ‰í† ë¦¬ ë‚´ì— `page.js` íŒŒì¼ì„ ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.

![image](https://github.com/user-attachments/assets/a42f0e3f-d846-438a-b1ad-95b557b6016c)

```tsx
// `app/page.tsx` is the UI for the `/` URL
export default function Page() {
  return <h1>Hello, Home page!</h1>
}
```

Then, to create further pages, create a new folder and add the page.js file inside it. For example, to create a page for the /dashboard route, create a new folder called dashboard, and add the page.js file inside it:

> ì´í›„, ì¶”ê°€ì ì¸ í˜ì´ì§€ë¥¼ ë§Œë“¤ë ¤ë©´ ìƒˆ í´ë”ë¥¼ ìƒì„±í•˜ê³  ê·¸ ì•ˆì— `page.js` íŒŒì¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `/dashboard` ê²½ë¡œì— ëŒ€í•œ í˜ì´ì§€ë¥¼ ë§Œë“¤ë ¤ë©´ `dashboard`ë¼ëŠ” ìƒˆ í´ë”ë¥¼ ìƒì„±í•˜ê³  ê·¸ ì•ˆì— `page.js` íŒŒì¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤:

```tsx
// `app/dashboard/page.tsx` is the UI for the `/dashboard` URL
export default function Page() {
  return <h1>Hello, Dashboard Page!</h1>
}
```

ğŸ’¡**Good to know**:

- The `.js`, `.jsx`, or `.tsx` file extensions can be used for Pages.
- A page is always the leaf of the route subtree.
- A `page.js` file is required to make a route segment publicly accessible.
- Pages are Server Components by default, but can be set to a Client Component.
- Pages can fetch data. View the [Data Fetching](https://nextjs.org/docs/app/building-your-application/data-fetching) section for more information.

> ğŸ’¡**ì°¸ê³ ì‚¬í•­**:
>
> - í˜ì´ì§€ì—ëŠ” `.js`, `.jsx`, ë˜ëŠ” `.tsx` íŒŒì¼ í™•ì¥ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - í˜ì´ì§€ëŠ” í•­ìƒ ê²½ë¡œ ì„œë¸ŒíŠ¸ë¦¬ì˜ ëë¶€ë¶„ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.
> - ë¼ìš°íŠ¸ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê³µê°œì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ í•˜ë ¤ë©´ `page.js` íŒŒì¼ì´ í•„ìš”í•©ë‹ˆë‹¤.
> - í˜ì´ì§€ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì´ì§€ë§Œ, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - í˜ì´ì§€ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [Data Fetching](https://nextjs.org/docs/app/building-your-application/data-fetching) ì„¹ì…˜ì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.

## Layouts

A layout is UI that is **shared** between multiple routes. On navigation, layouts preserve state, remain interactive, and do not re-render. Layouts can also be nested.

You can define a layout by default exporting a React component from a `layout.js` file. The component should accept a `children` prop that will be populated with a child layout (if it exists) or a page during rendering.

For example, the layout will be shared with the `/dashboard` and `/dashboard/settings` pages:

>ë ˆì´ì•„ì›ƒì€ ì—¬ëŸ¬ ê²½ë¡œ ê°„ì— ê³µìœ ë˜ëŠ” UIì…ë‹ˆë‹¤. ë„¤ë¹„ê²Œì´ì…˜ ì‹œ ë ˆì´ì•„ì›ƒì€ ìƒíƒœë¥¼ ìœ ì§€í•˜ê³ , ìƒí˜¸ ì‘ìš©ì´ ê°€ëŠ¥í•˜ë©°, ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë˜í•œ ë ˆì´ì•„ì›ƒì€ ì¤‘ì²©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
>ë ˆì´ì•„ì›ƒì„ ì •ì˜í•˜ë ¤ë©´ `layout.js` íŒŒì¼ì—ì„œ React ì»´í¬ë„ŒíŠ¸ë¥¼ ê¸°ë³¸ ë‚´ë³´ë‚´ê¸° ë°©ì‹ìœ¼ë¡œ ë‚´ë³´ëƒ…ë‹ˆë‹¤. ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ìì‹ ë ˆì´ì•„ì›ƒ(ì¡´ì¬í•˜ëŠ” ê²½ìš°) ë˜ëŠ” í˜ì´ì§€ë¡œ ì±„ì›Œì§ˆ `children` propì„ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.
>
>ì˜ˆë¥¼ ë“¤ì–´, ë ˆì´ì•„ì›ƒì€ `/dashboard` ë° `/dashboard/settings` í˜ì´ì§€ì™€ ê³µìœ ë©ë‹ˆë‹¤:

![image](https://github.com/user-attachments/assets/0b14f262-b453-44de-a87f-80c343b0842f)

```tsx
export default function DashboardLayout({
  children, // will be a page or nested layout
}: {
  children: React.ReactNode
}) {
  return (
    <section>
      {/* Include shared UI here e.g. a header or sidebar */}
      <nav></nav>
 
      {children}
    </section>
  )
}
```

### Root Layout (Required)

The root layout is defined at the top level of the `app` directory and applies to all routes. This layout is required and must contain `html` and `body` tags, allowing you to modify the initial HTML returned from the server.

> ë£¨íŠ¸ ë ˆì´ì•„ì›ƒì€ `app` ë””ë ‰í† ë¦¬ì˜ ìµœìƒìœ„ ë ˆë²¨ì—ì„œ ì •ì˜ë˜ë©°, ëª¨ë“  ê²½ë¡œì— ì ìš©ë©ë‹ˆë‹¤. ì´ ë ˆì´ì•„ì›ƒì€ í•„ìˆ˜ì´ë©° `html` ë° `body` íƒœê·¸ë¥¼ í¬í•¨í•´ì•¼ í•˜ë©°, ì„œë²„ì—ì„œ ë°˜í™˜ë˜ëŠ” ì´ˆê¸° HTMLì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>
        {/* Layout UI */}
        <main>{children}</main>
      </body>
    </html>
  )
}
```
### Nesting Layouts

By default, layouts in the folder hierarchy are nested, which means they wrap child layouts via their `children` prop. You can nest layouts by adding `layout.js` inside specific route segments (folders).

For example, to create a layout for the `/dashboard` route, add a new `layout.js` file inside the `dashboard` folder:

> ê¸°ë³¸ì ìœ¼ë¡œ í´ë” ê³„ì¸µ êµ¬ì¡°ì˜ ë ˆì´ì•„ì›ƒì€ ì¤‘ì²©ë©ë‹ˆë‹¤. ì´ëŠ” ë ˆì´ì•„ì›ƒì´ `children` propì„ í†µí•´ ìì‹ ë ˆì´ì•„ì›ƒì„ ê°ì‹¸ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. íŠ¹ì • ê²½ë¡œ ì„¸ê·¸ë¨¼íŠ¸(í´ë”) ë‚´ì— `layout.js`ë¥¼ ì¶”ê°€í•˜ì—¬ ë ˆì´ì•„ì›ƒì„ ì¤‘ì²©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´, `/dashboard` ê²½ë¡œì— ëŒ€í•œ ë ˆì´ì•„ì›ƒì„ ë§Œë“¤ë ¤ë©´ `dashboard` í´ë” ë‚´ì— ìƒˆë¡œìš´ `layout.js` íŒŒì¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤:

![image](https://github.com/user-attachments/assets/1e50d003-9350-4b18-9d5e-ee41ac128f90)

```tsx
export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return <section>{children}</section>
}
```

If you were to combine the two layouts above, the root layout (`app/layout.js`) would wrap the dashboard layout (`app/dashboard/layout.js`), which would wrap route segments inside app/dashboard/*.

The two layouts would be nested as such:

> ìœ„ì˜ ë‘ ë ˆì´ì•„ì›ƒì„ ê²°í•©í•˜ë©´, ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ(`app/layout.js`)ì´ ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ(`app/dashboard/layout.js`)ì„ ê°ì‹¸ê³ , ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒì´ `app/dashboard/*` ë‚´ì˜ ê²½ë¡œ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°ì‹¸ê²Œ ë©ë‹ˆë‹¤.
>
> ì´ ë‘ ë ˆì´ì•„ì›ƒì€ ë‹¤ìŒê³¼ ê°™ì´ ì¤‘ì²©ë©ë‹ˆë‹¤:

![image](https://github.com/user-attachments/assets/fa4c3d85-775c-4dc9-93d3-5e6747b7d06b)

ğŸ’¡**Good to know**:

- `.js`, `.jsx`, or `.tsx` file extensions can be used for Layouts.
- Only the root layout can contain `<html>` and `<body>` tags.
- When a `layout.js` and `page.js` file are defined in the same folder, the layout will wrap the page.
- Layouts are [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components) by default but can be set to a [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components).
- Layouts can fetch data. View the [Data Fetching](https://nextjs.org/docs/app/building-your-application/data-fetching) section for more information.
- Passing data between a parent layout and its children is not possible. However, you can fetch the same data in a route more than once, and React will [automatically dedupe the requests](https://nextjs.org/docs/app/building-your-application/caching#request-memoization) without affecting performance.
- Layouts do not have access to the route segments below itself. To access all route segments, you can use [`useSelectedLayoutSegment`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segment) or [`useSelectedLayoutSegments`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segments) in a Client Component.
- You can use [Route Groups](https://nextjs.org/docs/app/building-your-application/routing/route-groups) to opt specific route segments in and out of shared layouts.
- You can use [Route Groups](https://nextjs.org/docs/app/building-your-application/routing/route-groups) to create multiple root layouts. See an [example here](https://nextjs.org/docs/app/building-your-application/routing/route-groups#creating-multiple-root-layouts).
- **Migrating from the `pages` directory**: The root layout replaces the [`_app.js`](https://nextjs.org/docs/pages/building-your-application/routing/custom-app) and [`_document.js`](https://nextjs.org/docs/pages/building-your-application/routing/custom-document) files. [View the migration guide](https://nextjs.org/docs/app/building-your-application/upgrading/app-router-migration#migrating-_documentjs-and-_appjs).

> ğŸ’¡ **ì°¸ê³  ì‚¬í•­**:
>
> - ë ˆì´ì•„ì›ƒì—ëŠ” `.js`, `.jsx`, ë˜ëŠ” `.tsx` íŒŒì¼ í™•ì¥ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - ë£¨íŠ¸ ë ˆì´ì•„ì›ƒë§Œì´ `<html>` ë° `<body>` íƒœê·¸ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - ë™ì¼í•œ í´ë”ì— `layout.js`ì™€ `page.js` íŒŒì¼ì´ ì •ì˜ëœ ê²½ìš°, ë ˆì´ì•„ì›ƒì´ í˜ì´ì§€ë¥¼ ê°ìŒ‰ë‹ˆë‹¤.
> - ë ˆì´ì•„ì›ƒì€ ê¸°ë³¸ì ìœ¼ë¡œ [ì„œë²„ ì»´í¬ë„ŒíŠ¸](https://nextjs.org/docs/app/building-your-application/rendering/server-components)ì´ì§€ë§Œ, [í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸](https://nextjs.org/docs/app/building-your-application/rendering/client-components)ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - ë ˆì´ì•„ì›ƒì€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [Data Fetching](https://nextjs.org/docs/app/building-your-application/data-fetching) ì„¹ì…˜ì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.
> - ë¶€ëª¨ ë ˆì´ì•„ì›ƒê³¼ ìì‹ ê°„ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê²½ë¡œì—ì„œ ë™ì¼í•œ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë²ˆ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìœ¼ë©°, ë¦¬ì•¡íŠ¸ëŠ” ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  [ìë™ìœ¼ë¡œ ìš”ì²­ì„ ì¤‘ë³µ ì œê±°](https://nextjs.org/docs/app/building-your-application/caching#request-memoization)í•©ë‹ˆë‹¤.
> - ë ˆì´ì•„ì›ƒì€ í•˜ìœ„ ì„¸ê·¸ë¨¼íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ëª¨ë“  ë¼ìš°íŠ¸ ì„¸ê·¸ë¨¼íŠ¸ì— ì ‘ê·¼í•˜ë ¤ë©´ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ [`useSelectedLayoutSegment`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segment) ë˜ëŠ” [`useSelectedLayoutSegments`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segments)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - íŠ¹ì • ë¼ìš°íŠ¸ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê³µìœ  ë ˆì´ì•„ì›ƒì— í¬í•¨ì‹œí‚¤ê±°ë‚˜ ì œì™¸í•˜ë ¤ë©´ [Route Groups](https://nextjs.org/docs/app/building-your-application/routing/route-groups)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - [Route Groups](https://nextjs.org/docs/app/building-your-application/routing/route-groups)ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ë£¨íŠ¸ ë ˆì´ì•„ì›ƒì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì‹œëŠ” ì—¬ê¸°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - **`pages` ë””ë ‰í† ë¦¬ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜**: ë£¨íŠ¸ ë ˆì´ì•„ì›ƒì€ [`_app.js`](https://nextjs.org/docs/pages/building-your-application/routing/custom-app) ë° [`_document.js`](https://nextjs.org/docs/pages/building-your-application/routing/custom-document) íŒŒì¼ì„ ëŒ€ì²´í•©ë‹ˆë‹¤. [ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ](https://nextjs.org/docs/app/building-your-application/upgrading/app-router-migration#migrating-_documentjs-and-_appjs)ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.
